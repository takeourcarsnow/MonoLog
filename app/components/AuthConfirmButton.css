:root{
  --btn-bg: #fff;
  --btn-border: #e6e9ee;
  --btn-ink: #111827;
  --accent: #2563eb; /* blue */
  --success: #10b981; /* green */
  --shadow: rgba(16,24,40,0.06);
}

.auth-confirm-btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--btn-bg);
  border: 1px solid var(--btn-border);
  color: var(--btn-ink);
  padding: 10px 18px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 14px;
  line-height: 1;
  min-width: 160px;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: transform .15s cubic-bezier(0.4, 0.0, 0.2, 1), box-shadow .15s cubic-bezier(0.4, 0.0, 0.2, 1), background .15s cubic-bezier(0.4, 0.0, 0.2, 1), color .15s cubic-bezier(0.4, 0.0, 0.2, 1);
  box-shadow: 0 6px 14px -6px var(--shadow);
  /* entrance animation so the button pops into view organically */
  animation: popIn 360ms cubic-bezier(.2,.9,.3,1);
}

.auth-confirm-btn:active{ transform: translateY(1px) scale(.997); }
.auth-confirm-btn:disabled{ opacity: .6; cursor: not-allowed; }

/* Dark mode active state color adjustment */
:root[data-theme="dark"] .auth-confirm-btn:active {
  background: color-mix(in srgb, var(--btn-bg), var(--accent) 8%);
  border-color: color-mix(in srgb, var(--btn-border), var(--accent) 20%);
}

.auth-confirm-btn .btn-inner{ display:inline-flex; gap:10px; align-items:center; }
.auth-confirm-btn .btn-icon{ display:inline-flex; width:18px; height:18px; align-items:center; justify-content:center; }
.auth-confirm-btn .btn-label{ display:inline-block; }

/* loading state animates the text instead of showing spinner */
.auth-confirm-btn.loading{
  background: linear-gradient(90deg, color-mix(in srgb, var(--accent), transparent 94%), color-mix(in srgb, var(--accent), transparent 97%));
  border-color: color-mix(in srgb, var(--accent), transparent 82%);
}
.auth-confirm-btn.loading .btn-label{ opacity: 1; animation: textFun 0.8s ease-in-out infinite; }
.auth-confirm-btn.loading .btn-icon{ display: none; }

.btn-spinner{ display:inline-flex; width:18px; height:18px; align-items:center; justify-content:center; }
.btn-spinner span{ box-sizing: border-box; width:14px; height:14px; border-radius:50%; border:2px solid transparent; border-top-color:var(--accent); border-left-color:var(--accent); animation: spin 700ms linear infinite; }
@keyframes spin{ to { transform: rotate(360deg); } }

/* sent state shows green background briefly and check icon */
.auth-confirm-btn.sent{
  background: linear-gradient(90deg, color-mix(in srgb, var(--success), transparent 91%), color-mix(in srgb, var(--success), transparent 96%));
  border-color: color-mix(in srgb, var(--success), transparent 82%);
  color: var(--success);
}

/* error state shows red background and shake animation */
.auth-confirm-btn.error{
  background: var(--danger);
  border-color: var(--danger);
  color: white;
  animation: shake 0.5s ease-in-out;
}

/* Dark mode adjustments for better visibility */
:root[data-theme="dark"] .auth-confirm-btn.sent {
  background: linear-gradient(90deg, color-mix(in srgb, var(--success), transparent 70%), color-mix(in srgb, var(--success), transparent 80%));
}

/* organic hover / focus interactions */
.auth-confirm-btn:not(:disabled):hover{
  transform: translateY(-3px) scale(1.005);
  box-shadow: 0 10px 30px -10px var(--shadow);
}
.auth-confirm-btn:focus{ outline: none; box-shadow: 0 0 0 6px color-mix(in srgb, var(--accent), transparent 92%); }

/* Remove hover effects in dark mode */
:root[data-theme="dark"] .auth-confirm-btn:not(:disabled):hover {
  transform: none;
  box-shadow: none;
}
:root[data-theme="dark"] .auth-confirm-btn:not(:disabled):hover::before {
  opacity: 0;
}

/* idle micro pulse when button is visually ready (not loading/sent) */
.auth-confirm-btn:not(.loading):not(.sent){
  animation: popIn 360ms cubic-bezier(.2,.9,.3,1), floatIdle 6s ease-in-out 1.6s infinite;
}

/* subtle icon slide and label crossfade when loading/sent */
.auth-confirm-btn .btn-icon{ transition: transform .26s cubic-bezier(.2,.9,.3,1), opacity .18s ease; }
.auth-confirm-btn .btn-label{ transition: opacity .22s ease, transform .22s ease; }
.auth-confirm-btn.loading .btn-icon{ transform: translateX(-6px); opacity: .8; }
.auth-confirm-btn.sent .btn-icon{ transform: translateY(-1px) scale(1.02); }

/* sheen / gloss on hover */
.auth-confirm-btn::before{
  content: '';
  position: absolute;
  left: -40%;
  top: -40%;
  width: 40%;
  height: 180%;
  background: linear-gradient(120deg, rgba(255,255,255,0.06), rgba(255,255,255,0.18), rgba(255,255,255,0.06));
  transform: rotate(12deg) translateX(-8px);
  transition: transform .8s cubic-bezier(.2,.9,.3,1), opacity .45s ease;
  opacity: 0;
  pointer-events: none;
}
.auth-confirm-btn:not(:disabled):hover::before{ transform: translateX(180%) rotate(12deg); opacity: 1; }

/* sent check bounce */
.auth-confirm-btn.sent{ animation: checkBounce 520ms cubic-bezier(.2,.9,.3,1); }

@keyframes popIn{
  0%{ transform: translateY(8px) scale(.985); opacity: 0 }
  60%{ transform: translateY(-3px) scale(1.01); opacity: 1 }
  100%{ transform: translateY(0) scale(1); opacity: 1 }
}

@keyframes floatIdle{
  0% { transform: translateY(0); }
  50% { transform: translateY(-1.5px); }
  100% { transform: translateY(0); }
}

@keyframes checkBounce{
  0% { transform: scale(.88); opacity: .9 }
  40% { transform: scale(1.06); }
  70% { transform: scale(.98); }
  100% { transform: scale(1); opacity: 1 }
}

@keyframes textPulse{
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes textFun{
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
  25% { transform: scale(1.05) rotate(1deg); opacity: 0.9; }
  50% { transform: scale(1.1) rotate(0deg); opacity: 0.8; }
  75% { transform: scale(1.05) rotate(-1deg); opacity: 0.9; }
}

@keyframes shake{
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
}

/* Sliding auth-mode indicator (under the Sign in / Sign up pills) */
.auth-toggle{ position: relative; display: inline-flex; align-items: center; }
.auth-toggle-indicator{
  position: absolute;
  top: 6px; /* small inset so the pill labels sit above */
  height: calc(100% - 12px);
  border-radius: 999px;
  background: linear-gradient(90deg, color-mix(in srgb, var(--accent), transparent 92%), color-mix(in srgb, var(--accent), transparent 98%));
  box-shadow: 0 8px 18px -10px color-mix(in srgb, var(--accent), transparent 88%);
  transition: left .38s cubic-bezier(.2,.9,.3,1), width .38s cubic-bezier(.2,.9,.3,1), transform .38s ease, opacity .28s ease;
  transform-origin: left center;
  will-change: left, width, transform, opacity;
  z-index: 2;
  opacity: 1;
  pointer-events: none;
}

/* subtle hover lift for the indicator to match button hover */
.auth-toggle:hover .auth-toggle-indicator{ transform: translateY(-2px) scale(1.01); }

/* initial entrance animation so it doesn't pop abruptly */
.auth-toggle-indicator{ animation: indicatorIn 420ms cubic-bezier(.2,.9,.3,1); }
@keyframes indicatorIn{
  0%{ transform: translateY(6px) scale(.98); opacity: 0 }
  60%{ transform: translateY(-2px) scale(1.01); opacity: .9 }
  100%{ transform: translateY(0) scale(1); opacity: 1 }
}

/* ensure pill buttons sit above the indicator */
.auth-toggle .pill-switch{ position: relative; z-index: 5; }

/* subtle focus ring */
.auth-confirm-btn:focus{ outline: none; box-shadow: 0 0 0 4px color-mix(in srgb, var(--accent), transparent 92%); }

/* small responsive tweak */
@media (max-width:420px){
  .auth-confirm-btn{ padding: 10px 14px; min-width: 140px; }
}

/* helper hidden text for screen readers */
.sr-only{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
