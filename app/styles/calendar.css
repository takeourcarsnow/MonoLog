/* Calendar styles */
.calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; margin: 16px 0; }
.calendar-header { display: contents; }
.calendar-header > * { padding: 8px; text-align: center; font-weight: 600; color: var(--muted); font-size: 12px; }
.calendar-day { padding: 8px; text-align: center; border-radius: 8px; cursor: pointer; transition: background var(--transition-fast), color var(--transition-fast); }
.calendar-day:hover { background: var(--bg-elev); }
.calendar-day.today { background: var(--primary); color: white; }
.calendar-day.selected { background: var(--accent); color: white; }
.calendar-day.disabled { color: var(--muted); cursor: not-allowed; }

/* Calendar grid layout */
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px; background: var(--border); border-radius: 8px; overflow: hidden; }
.calendar-cell { background: var(--bg); padding: 8px; min-height: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
.calendar-cell.today { background: color-mix(in srgb, var(--primary), transparent 90%); }
.calendar-cell.selected { background: color-mix(in srgb, var(--accent), transparent 90%); }
.calendar-cell.disabled { background: var(--bg-elev); color: var(--muted); }
.calendar-cell .date { font-weight: 500; margin-bottom: 2px; }
.calendar-cell .events { display: flex; flex-direction: column; gap: 1px; width: 100%; }
.calendar-cell .event { background: var(--primary); color: white; padding: 1px 4px; border-radius: 2px; font-size: 10px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; }

/* Month navigation */
.calendar-nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.calendar-nav button { padding: 8px 12px; border-radius: 6px; background: var(--bg-elev); border: 1px solid var(--border); color: var(--text); cursor: pointer; transition: background var(--transition-fast); }
.calendar-nav button:hover { background: var(--primary); color: white; }
.calendar-nav .month-year { font-weight: 600; font-size: 18px; }

/* Calendar view toggle */
.calendar-view-toggle { display: flex; gap: 4px; margin-bottom: 16px; }
.calendar-view-toggle button { padding: 6px 12px; border-radius: 6px; background: var(--bg-elev); border: 1px solid var(--border); color: var(--muted); cursor: pointer; transition: background var(--transition-fast), color var(--transition-fast); }
.calendar-view-toggle button.active { background: var(--primary); color: white; }

/* Event indicators */
.event-indicator { position: absolute; top: 2px; right: 2px; width: 6px; height: 6px; border-radius: 50%; background: var(--primary); }
.event-indicator.multiple { background: var(--accent); }

/* Calendar modal */
.calendar-modal { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.calendar-modal-content { background: var(--bg); border-radius: 12px; padding: 24px; max-width: 90vw; max-height: 90vh; overflow: auto; }
.calendar-modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.calendar-modal-header h2 { margin: 0; }
.calendar-modal-close { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--muted); }

/* Event form */
.event-form { display: flex; flex-direction: column; gap: 16px; }
.event-form .form-group { display: flex; flex-direction: column; gap: 4px; }
.event-form label { font-weight: 500; }
.event-form input, .event-form textarea { padding: 8px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); color: var(--text); }
.event-form textarea { resize: vertical; min-height: 80px; }
.event-form .form-actions { display: flex; gap: 8px; justify-content: flex-end; }

/* Event list */
.event-list { display: flex; flex-direction: column; gap: 8px; }
.event-item { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-elev); border-radius: 8px; border: 1px solid var(--border); }
.event-item .event-time { font-weight: 600; color: var(--primary); min-width: 60px; }
.event-item .event-title { flex: 1; font-weight: 500; }
.event-item .event-actions { display: flex; gap: 4px; }
.event-item .event-actions button { padding: 4px 8px; border-radius: 4px; background: none; border: 1px solid var(--border); color: var(--muted); cursor: pointer; transition: background var(--transition-fast); }
.event-item .event-actions button:hover { background: var(--primary); color: white; }

/* Calendar responsive */
@media (max-width: 640px) {
  .calendar-nav { flex-direction: column; gap: 8px; }
  .calendar-nav .month-year { font-size: 16px; }
  .calendar-cell { min-height: 32px; padding: 4px; }
  .calendar-cell .date { font-size: 12px; }
  .calendar-modal-content { padding: 16px; }
  .event-item { flex-direction: column; align-items: flex-start; gap: 8px; }
  .event-item .event-actions { align-self: flex-end; }
}

/* Calendar themes - add specific overrides here if needed */
/* .calendar.dark { } */
/* .calendar.light { } */

/* Calendar animations */
.calendar-cell { transition: background var(--transition-fast), transform var(--transition-fast); }
.calendar-cell:hover { transform: scale(1.02); }
.calendar-cell:active { transform: scale(0.98); }

/* Event creation animation */
@keyframes event-create {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.1); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

.event-item.new { animation: event-create 0.3s ease-out; }

/* Calendar loading state */
.calendar-loading { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
.calendar-loading .skeleton { background: var(--bg-elev); border-radius: 8px; min-height: 40px; animation: skeleton-loading 1.5s infinite; }

/* Calendar empty state */
.calendar-empty { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 48px; text-align: center; color: var(--muted); }
.calendar-empty svg { width: 48px; height: 48px; margin-bottom: 16px; opacity: 0.5; }
.calendar-empty h3 { margin: 0 0 8px 0; }
.calendar-empty p { margin: 0; }

/* Calendar event tooltip */
.event-tooltip { position: absolute; background: var(--bg); border: 1px solid var(--border); border-radius: 6px; padding: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); z-index: 100; max-width: 200px; font-size: 12px; }
.event-tooltip::before { content: ''; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); border: 5px solid transparent; border-bottom-color: var(--bg); }
.event-tooltip .event-title { font-weight: 600; margin-bottom: 4px; }
.event-tooltip .event-time { color: var(--muted); }

/* Calendar week view */
.calendar-week { display: grid; grid-template-columns: 100px repeat(7, 1fr); gap: 1px; background: var(--border); border-radius: 8px; overflow: hidden; }
.calendar-week .time-column { background: var(--bg); padding: 8px; display: flex; align-items: center; justify-content: center; font-weight: 600; color: var(--muted); }
.calendar-week .day-column { background: var(--bg); min-height: 600px; position: relative; }
.calendar-week .day-header { padding: 8px; text-align: center; font-weight: 600; border-bottom: 1px solid var(--border); }
.calendar-week .event-block { position: absolute; left: 2px; right: 2px; background: var(--primary); color: white; border-radius: 4px; padding: 4px; font-size: 12px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; cursor: pointer; transition: opacity var(--transition-fast); }
.calendar-week .event-block:hover { opacity: 0.8; }

/* Calendar month view */
.calendar-month { display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px; background: var(--border); border-radius: 8px; overflow: hidden; }
.calendar-month .day-header { background: var(--bg-elev); padding: 8px; text-align: center; font-weight: 600; color: var(--muted); }
.calendar-month .day-cell { background: var(--bg); min-height: 120px; padding: 8px; position: relative; }
.calendar-month .day-number { font-weight: 600; margin-bottom: 4px; }
.calendar-month .day-events { display: flex; flex-direction: column; gap: 2px; }
.calendar-month .day-event { background: var(--primary); color: white; padding: 2px 4px; border-radius: 2px; font-size: 10px; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; cursor: pointer; }
.calendar-month .day-event:hover { opacity: 0.8; }
.calendar-month .more-events { font-size: 10px; color: var(--muted); margin-top: 2px; cursor: pointer; }

/* Calendar agenda view */
.calendar-agenda { display: flex; flex-direction: column; gap: 16px; }
.agenda-day { border-bottom: 1px solid var(--border); padding-bottom: 16px; }
.agenda-day:last-child { border-bottom: none; }
.agenda-day .day-title { font-weight: 600; margin-bottom: 8px; color: var(--primary); }
.agenda-day .day-events { display: flex; flex-direction: column; gap: 8px; }
.agenda-day .agenda-event { display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-elev); border-radius: 8px; border: 1px solid var(--border); }
.agenda-day .agenda-event .event-time { font-weight: 600; min-width: 80px; }
.agenda-day .agenda-event .event-details { flex: 1; }
.agenda-day .agenda-event .event-title { font-weight: 500; }
.agenda-day .agenda-event .event-description { color: var(--muted); font-size: 14px; margin-top: 2px; }

/* Calendar search and filter */
.calendar-controls { display: flex; gap: 16px; margin-bottom: 16px; align-items: center; }
.calendar-search { flex: 1; position: relative; }
.calendar-search input { width: 100%; padding: 8px 12px 8px 36px; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); color: var(--text); }
.calendar-search svg { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--muted); }
.calendar-filter { display: flex; gap: 8px; }
.calendar-filter button { padding: 6px 12px; border-radius: 6px; background: var(--bg-elev); border: 1px solid var(--border); color: var(--muted); cursor: pointer; transition: background var(--transition-fast); }
.calendar-filter button.active { background: var(--primary); color: white; }

/* Calendar export/import */
.calendar-actions { display: flex; gap: 8px; margin-bottom: 16px; }
.calendar-actions button { padding: 8px 16px; border-radius: 6px; background: var(--bg-elev); border: 1px solid var(--border); color: var(--text); cursor: pointer; transition: background var(--transition-fast); }
.calendar-actions button:hover { background: var(--primary); color: white; }

/* Calendar recurring events */
.recurring-indicator { position: absolute; top: 2px; left: 2px; width: 8px; height: 8px; border-radius: 50%; background: var(--accent); }
.recurring-indicator::before { content: '↻'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 6px; color: white; }

/* Calendar time zones */
.timezone-selector { margin-bottom: 16px; }
.timezone-selector select { padding: 8px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--bg); color: var(--text); }

/* Calendar accessibility - roles are set in HTML, not CSS */
.calendar button:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* Calendar print styles */
@media print {
  .calendar { break-inside: avoid; }
  .calendar-cell { break-inside: avoid; }
  .event-item { break-inside: avoid; }
}